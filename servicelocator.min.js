!function(t,e){"function"==typeof define&&define.amd?define(function(){return t.ServiceLocator=e()}):"object"==typeof module&&module.exports?module.exports=t.ServiceLocator=e():t.ServiceLocator=e()}(this,function(){"use strict";function t(){function t(){u&&console.log.apply(console,arguments)}function e(t){var e,n,r=Array.prototype.slice.call(arguments,1);for(t.__mixins=[],n=0;n<r.length;++n)for(e in r[n])void 0===t[e]&&(t[e]=r[n][e],t.__mixins.push(e))}function n(t,e,n){function r(t){var n,r;if(!t)return this;for(this.__mixins=[],n=0;n<t.length;++n)for(r in t[n])this[r]=e[n][r],this.__mixins.push(r)}var i;return r.prototype=t.prototype,t.prototype=new r(e),i=new t(n),t.prototype=r.prototype,i}function r(t,e){var n;if(t&&!(e.recursion>1e3))if(e.recursion+=1,t.hasOwnProperty("__mixins")){for(n=0;n<e.length;n++)delete t[e[n]];delete t.__mixins}else r(Object.getPrototypeOf(t),e)}function i(t){return t.__mixins.recursion=0,r(t,t.__mixins),t}function o(e){return t("Instantiate: "+e),c[e].instance=n(c[e].creator,[{id:e},s])}var s,c={},u=!1;return{printLog:function(t){return u=!!t,this},setMixin:function(t){return s=t,this},getLocator:function(){return c},register:function(n,r,i){function o(n){void 0===c[n]?"function"!=typeof r||i!==!0&&void 0!==i?(e(obj,{id:n},s),c[n]={instance:r}):c[n]={creator:r}:t("You try register already registered module:"+n+"!")}if("[object Array]"===Object.prototype.toString.call(n))for(var u=n.length-1;u>-1;u--)o(n[u]);else o(n);return this},registerAll:function(t){var e,n,r,i,o;for(e=0;e<t.length;++e)n=t[e],r=n.ID||n.id,i=n.service||n.obj||n.object||n.creator,o=void 0!==n.instantiate?!!n.instantiate:!0,this.register(r,i,o);return this},get:function(e){return void 0===c[e]?(t("Service is not registered: "+e),null):c[e].instance||o(e)},instantiateAll:function(t){var e,n=[];t=t||function(){return!0};for(e in c)c.hasOwnProperty(e)&&c[e].creator&&!c[e].instance&&t(e)&&n.push(o(e));return n},getAllInstantiate:function(t){var e,n,r=[];for(e in c)n=t?!!c[e].creator:!0,c.hasOwnProperty(e)&&c[e].instance&&c[e].creator&&r.push(e);return r},removeInstance:function(t){return c[t]&&c[t].instance?void delete c[t].instance:!1},unregister:function(t,e){function n(t){var n,r;return n=c[t],e&&n&&n.instance&&(r=n.instance,i(r)),delete c[t],n.instance}var r,o;if("[object Array]"===Object.prototype.toString.call(t))for(r=[],o=t.length-1;o>-1;o--)r.push(n(t[o]));else r=n(t);return r},unregisterAll:function(t){var e,n,r=[];for(e in c)c.hasOwnProperty(e)&&(n=this.unregister(e,t),n&&r.push(n));return r}}}var e;return e=new t,e.Constructor=t,e});
//# sourceMappingURL=servicelocator.map