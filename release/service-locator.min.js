!function(n,t){"function"==typeof define&&define.amd?define(function(){return n.ServiceLocator=t()}):"object"==typeof module&&module.exports?module.exports=n.ServiceLocator=t():n.ServiceLocator=t()}(this,function(){"use strict";function n(){function n(n){var t,e,r=Array.prototype.slice.call(arguments,1);n.__mixins=[];for(e=0;e<r.length;++e)for(t in r[e])if(void 0===n[t]){n[t]=r[e][t];n.__mixins.push(t)}}function t(n,t,e){function r(n){var e,r;if(!n)return this;this.__mixins=[];for(e=0;e<n.length;++e)for(r in n[e]){this[r]=t[e][r];this.__mixins.push(r)}}var i;r.prototype=n.prototype;n.prototype=new r(t);i=new n(e);n.prototype=r.prototype;return i}function e(n,t){var r;if(n&&!(t.recursion>1e3)){t.recursion++;if(n.hasOwnProperty("__mixins")){for(r=0;r<t.length;r+=1)delete n[t[r]];delete n.__mixins}else e(Object.getPrototypeOf(n),t)}}function r(n){n.__mixins.recursion=0;e(n,n.__mixins);return n}function i(n){a&&console.log("Instantiate: "+n);c[n].instance=t(c[n].creator,[{id:n},u],c[n].args||[]);return c[n].instance}function o(n,t){var e=function(){for(var t in n)n.hasOwnProperty(t)&&function(t){Object.defineProperty(this,t,{get:function(){return n[t]},set:function(e){n[t]=e},enumerable:!0})}.call(this,t)};e.prototype=t;return new e}function s(n,t){Array.isArray(t)||(t=[]);return o(new function(){this.prototype=n.prototype;return n.apply(this,t)},n.prototype)}var c={},u={},a=!1;return{printLog:function(n){a=!!n;return this},setMixin:function(n){u=n;return this},register:function(t,e,r,i){if(!e){a&&console.warn("serviceObject argument is empty: "+t);return!1}if(c[t]){a&&console.warn("You try to register already registered module: "+t);return!1}r=arguments.length<3?!0:!!r;var o;switch(typeof e){case"function":c[t]={creator:e};Array.isArray(i)&&i.length&&(c[t].args=i);if(r){var f;f=c[t].args?s(e,i):new e;n(f,{id:t},u);c[t].instance=f}o=!0;break;case"object":n(e,{id:t},u);c[t]={instance:e};o=!0;break;default:a&&console.warn("Service is't a function nor object: "+t);o=!1}return o},registerAll:function(n){if(!Array.isArray(n)&&!n.length)return[];var t,e,r,i,o,s=[];for(t=0;t<n.length;++t){e=n[t];r=e.ID||e.id||e.Id;i=e.service||e.object||e.creator;o=void 0!==e.instantiate?!!e.instantiate:!0;this.register(r,i,o)&&s.push(r)}return s},get:function(n){if(void 0===c[n]){a&&console.warn("Service is not registered: "+n);return null}return"instance"in c[n]&&c[n].instance?c[n].instance:i(n)},instantiateAll:function(n){var t,e=[];"function"!=typeof n&&(n=function(){return!0});for(t in c)c.hasOwnProperty(t)&&c[t].creator&&!c[t].instance&&n(t)&&e.push(i(t));return e},getAllInstantiate:function(){var n,t=[];for(n in c)n in c&&c[n].instance&&t.push(n);return t},removeInstance:function(n){if(!c[n]||!c[n].instance)return!1;delete c[n].instance;return!0},unregister:function(n,t){function e(n){var e,i;if(!(n in c))return null;e=c[n];i=t&&e.instance?r(e.instance):e.instance?e.instance:null;delete c[n];return i}var i,o;if("[object Array]"===Object.prototype.toString.call(n)){i=[];for(o=n.length-1;o>-1;o--)i.push(e(n[o]))}else i=e(n);return i},unregisterAll:function(n){var t,e,r={};for(t in c)if(c.hasOwnProperty(t)){e=this.unregister(t,n);e&&(r[t]=e)}return r}}}var t;t=new n;t.Constructor=n;return t});
//# sourceMappingURL=service-locator.min.js.map