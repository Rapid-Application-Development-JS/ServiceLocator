!function(t,n){"function"==typeof define&&define.amd?define(function(){return t.ServiceLocator=n()}):"object"==typeof module&&module.exports?module.exports=t.ServiceLocator=n():t.ServiceLocator=n()}(this,function(){"use strict";function t(){function t(t){var n,e,r=Array.prototype.slice.call(arguments,1);t.__mixins=[];for(e=0;e<r.length;++e)for(n in r[e])if(void 0===t[n]){t[n]=r[e][n];t.__mixins.push(n)}}function n(t,n,e){function r(t){var e,r;if(!t)return this;this.__mixins=[];for(e=0;e<t.length;++e)for(r in t[e]){this[r]=n[e][r];this.__mixins.push(r)}}var i;r.prototype=t.prototype;t.prototype=new r(n);i=new t(e);t.prototype=r.prototype;return i}function e(t,n){var r;if(t&&!(n.recursion>1e3)){n.recursion++;if(t.hasOwnProperty("__mixins")){for(r=0;r<n.length;r+=1)delete t[n[r]];delete t.__mixins}else e(Object.getPrototypeOf(t),n)}}function r(t){t.__mixins.recursion=0;e(t,t.__mixins);return t}function i(t){g&&console.log("Instantiate: "+t);f[t].instance=n(f[t].creator,[{id:t},l],f[t].args||[]);return f[t].instance}function s(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function o(t){return"object"===s(t)}function u(t){return"string"==typeof t}function a(t){return"function"==typeof t}function c(t){return h.isRegistered(t)?"creator"in f[t]:!1}var f={},l={},g=!1,h={printLog:function(t){g=!!t;return this},setMixin:function(t){o(t)&&(l=t);return this},getMixin:function(){return l},mixin:function(t){this.setMixin(t);return this.getMixin()},register:function(e,r,i,s){if(!u(e)||!e.length){g&&console.warn("serviceName must be type of string: ["+e+"]");return!1}if(!a(r)&&!o(r)){g&&console.warn("serviceObject argument is empty or have wrong type: ["+r+"]");return!1}if(this.isRegistered(e)){g&&console.warn("You try to register already registered module: ["+e+"]");return!1}i=arguments.length<3?!0:!!i;switch(typeof r){case"function":f[e]={creator:r};arguments.length>3&&(f[e].args=s);if(i){var c;c="args"in f[e]?n(r,{},f[e].args):n(r,{});t(c,{id:e},l);f[e].instance=c}break;case"object":t(r,{id:e},l);f[e]={instance:r};break;default:return!1}return!0},isRegistered:function(t){return t in f},isInstantiated:function(t){return this.isRegistered(t)&&"instance"in f[t]?!!f[t].instance:!1},registerAll:function(t){if(!Array.isArray(t)&&!t.length)return[];var n,e,r,i,s,o=[];for(n=0;n<t.length;++n){e=t[n];r=e.ID||e.id||e.Id;i=e.service||e.object||e.creator;s=void 0!==e.instantiate?!!e.instantiate:!0;this.register(r,i,s)&&o.push(r)}return o},get:function(t){return this.instantiate(t)},instantiate:function(t){if(!this.isRegistered(t)){g&&console.warn("Service is not registered: "+t);return null}if(this.isInstantiated(t)){g&&console.warn("Already instantiated: "+t);return f[t].instance}return c(t)?i(t):null},instantiateAll:function(t){var n,e=[];"function"!=typeof t&&(t=function(){return!0});for(n in f)!this.isInstantiated(n)&&c(n)&&t(n)&&e.push(i(n));return e},getAllInstantiate:function(){var t,n=[];for(t in f)this.isInstantiated(t)&&n.push(t);return n},removeInstance:function(t){if(!f[t]||!f[t].instance)return!1;delete f[t].instance;return!0},unregister:function(t,n){function e(t){var e,i;if(!o.isRegistered(t))return null;e=f[t];i=n&&e.instance?r(e.instance):e.instance?e.instance:null;delete f[t];return i}var i,s,o=this;if("[object Array]"===Object.prototype.toString.call(t)){i=[];for(s=t.length-1;s>-1;s--)i.push(e(t[s]))}else i=e(t);return i},unregisterAll:function(t){var n,e,r={};for(n in f)if(f.hasOwnProperty(n)){e=this.unregister(n,t);e&&(r[n]=e)}return r}};return h}var n;n=new t;n.Constructor=t;return n});
//# sourceMappingURL=servicelocator.min.js.map