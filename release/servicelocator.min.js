!function(t,n){"function"==typeof define&&define.amd?define(function(){return t.ServiceLocator=n()}):"object"==typeof module&&module.exports?module.exports=t.ServiceLocator=n():t.ServiceLocator=n()}(this,function(){"use strict";function t(){function t(t){var n,e,i=Array.prototype.slice.call(arguments,1);for(t.__mixins=[],e=0;e<i.length;++e)for(n in i[e])void 0===t[n]&&(t[n]=i[e][n],t.__mixins.push(n))}function n(t,n,e){function i(t){var e,i;if(!t)return this;for(this.__mixins=[],e=0;e<t.length;++e)for(i in t[e])this[i]=n[e][i],this.__mixins.push(i)}var r;return i.prototype=t.prototype,t.prototype=new i(n),r=new t(e),t.prototype=i.prototype,r}function e(t,n){var i;if(t&&!(n.recursion>1e3))if(n.recursion++,t.hasOwnProperty("__mixins")){for(i=0;i<n.length;i+=1)delete t[n[i]];delete t.__mixins}else e(Object.getPrototypeOf(t),n)}function i(t){return t.__mixins.recursion=0,e(t,t.__mixins),t}function r(t){return g&&console.log("Instantiate: "+t),f[t].instance=n(f[t].creator,[{id:t},l],f[t].args||[]),f[t].instance}function s(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function o(t){return"object"===s(t)}function u(t){return"string"==typeof t}function a(t){return"function"==typeof t}function c(t){return d.isRegistered(t)?"creator"in f[t]:!1}var f={},l={},g=!1,d={printLog:function(t){return g=!!t,this},setMixin:function(t){return o(t)&&(l=t),this},getMixin:function(){return l},mixin:function(t){return this.setMixin(t),this.getMixin()},register:function(e,i,r,s){if(!u(e)||!e.length)return g&&console.warn("serviceName must be type of string: ["+e+"]"),!1;if(!a(i)&&!o(i))return g&&console.warn("serviceObject argument is empty or have wrong type: ["+i+"]"),!1;if(this.isRegistered(e))return g&&console.warn("You try to register already registered module: ["+e+"]"),!1;switch(r=arguments.length<3?!0:!!r,typeof i){case"function":if(f[e]={creator:i},arguments.length>3&&(f[e].args=s),r){var c;c="args"in f[e]?n(i,{},f[e].args):n(i,{}),t(c,{id:e},l),f[e].instance=c}break;case"object":t(i,{id:e},l),f[e]={instance:i};break;default:return!1}return!0},isRegistered:function(t){return t in f},isInstantiated:function(t){return this.isRegistered(t)&&"instance"in f[t]?!!f[t].instance:!1},get:function(t){return this.isRegistered(t)?this.isInstantiated(t)?(g&&console.warn("Already instantiated: "+t),f[t].instance):c(t)?r(t):null:(g&&console.warn("Service is not registered: "+t),null)},instantiate:function(t){return this.isRegistered(t)?this.isInstantiated(t)?!0:c(t)?!!r(t):!1:!1},instantiateAll:function(t){var n,e=[];"function"!=typeof t&&(t=function(){return!0});for(n in f)!this.isInstantiated(n)&&c(n)&&t(n)&&e.push(r(n));return e},getAllInstantiate:function(t){var n,e=t?{}:[];if(t)for(n in f)this.isInstantiated(n)&&(e[n]=n);else for(n in f)this.isInstantiated(n)&&e.push(n);return e},removeInstance:function(t){return f[t]&&f[t].instance?(delete f[t].instance,!0):!1},unRegister:function(t,n){if(!this.isRegistered(t))return!1;if(!this.isInstantiated(t))return delete f[t],null;var e=null;return e=n?i(f[t].instance):f[t].instance,delete f[t],e},unRegisterAll:function(t){var n,e,i={};for(n in f)e=this.unRegister(n,t),e&&(i[n]=e);return i},getAllRegistered:function(){var t,n=[];for(t in f)this.isRegistered(t)&&n.push(t);return n},removeAllInstances:function(){for(var t in f)delete f[t].instance}};return d}var n;return n=new t,n.Constructor=t,n});
//# sourceMappingURL=servicelocator.min.js.map